<html><head><title>Тема 18 Console Game 4</title><meta charset="utf-8"><link rel="icon" href="../../../images/favicon.png" type="image/x-icon"><link rel='stylesheet' href='../../../styles/prism.css'><link rel='stylesheet' href='../../../styles/master.css'><link rel='stylesheet' href='styles/style.css'><script src='https://code.jquery.com/jquery-3.6.0.min.js' defer=""></script><script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js' defer=""></script><script src='../../../scripts/activate_highlight.js' defer=""></script><script src='../../../scripts/additional_content_button.js' defer=""></script></head><body><div id='templatemo_header_wrapper'>    <div id='templatemo_header'>        <div id='header'>            <br>            <h1 align='center'><a href='#' class='themeA'>Тема 18<br>Basic Console Game Engine - Flappy Bird 3</a></h1><br>        </div>    </div></div><div class='content'><div class='theme-main-container debug-compile-info-cont' align='center'><p class='theme-main-header debug-compile-info-header'>Complie info</p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>ExecutableCreationTime</span>:<br><span class='debug-compile-info-entry-value attention-code'>03/27/2024 02:09:19</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>ExecutableLastWriteTime</span>:<br><span class='debug-compile-info-entry-value attention-code'>03/27/2024 02:09:19</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>ExecutableHashSHA256</span>:<br><span class='debug-compile-info-entry-value attention-code'>EF45B86474B6E4747501AAB037C01F7D6B1FE6DC5824305E2659CDA47943263A</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>SettingsHashSHA256</span>:<br><span class='debug-compile-info-entry-value attention-code'>F6D9CFAB2E7B5CC5152D66D4C0D51EC04FCF0BB9BE5A805C42FBABC64EACC089</span></p><br><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>AppStartDate</span>:<br><span class='debug-compile-info-entry-value attention-code'>2024-03-27 00:09:25.084</span></p><br><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>StylesHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>D874A857C9AE35986454587CF15ED802E0DA670AA6BCBF2B7311FA7D0367145E</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>ScriptsHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>B2860447F9AF448ED6C9353FCAD64AB324ABFB5D42697A9CA3F1A2C9535129E8</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>AdditionalHeadContentHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>CDB97F7F404FBF14B9786071235C8E643776E7B3C78B6A356497F4AFAF322B64</span></p><br><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>InfoMaterialThemeConfigStringHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>81539119824F3774042DA243914CBAB75C11702BE70745284882A3FADF42357B</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>HtmlTextFormaterStringHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>64247A765CAEBDCCA4321EDFAE359F9976A3E93D62A273E04D69081B9B2A6077</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>GlobalHtmlTextFormaterStringHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>0BD3178F0EB6CF62ED1234C263E422988E2A6CAE5285B6BB27A1CA5F526093C7</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>HeaderHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>9E4B3F1397C37693AF319C23C8F060DE91A17F60A58AFE3CAF18B2FF6C4ADD63</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>FooterHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>B8EA0644585A6D27C6B10FD167809CF1F1884EDC0374A494362B16876CE98B96</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>AdditionalMainDivContentHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>D05224365F5F8632B8AC84C4032E59B7F61910A18D95DEB5F1C54140777D314C</span></p></div><div class="workaround-div-for-compile-only">    <div class="theme-main-container chapter-selector-container">        <a class="button-main chapter-selector-link" href="theme.html">            <p class="chapter-selector-text">Теорія</p>        </a>        <a class="button-main chapter-selector-link" href="tasks.html">            <p class="chapter-selector-text">Завдання</p>        </a>    </div></div><div class='theme-main-container' align='center'><p class='theme-main-header'>Продовження створення консольного клону 'Flappy Bird'.</p></div><div class='theme-main-container' align='center'><h1 class='theme-header'>Цілі підкурсу '<span class='attention-highlight'>Console Game Engine - Flappy Bird</span> - Основа</h1><p class='theme-text-container theme-text-container-info'>Цілі підкурсу - правила гри Flappy Bird</p><div class='theme-additional-content-container-main'><button class='button-main theme-additional-content-expander'>Показати</button><div class='theme-additional-content-container collapsed'><div class='code-and-explanation-container'><p class='theme-text-container theme-text-container-code-comment'><strong>Правила та результат:</strong></p><div class='theme-additional-html-content-container'><ol class="theme-list"><li><p><strong>Пташка (Bird):</strong></p><ul class="theme-list-inside"><li>Гравець керує пташкою за допомогою пробілу: натиснувши пробіл, пташка рухається вгору.</li><li>За замовчуванням, пташка падає вниз з плином часу.</li></ul></li><li><p><strong>Геймплей (GamePlay):</strong></p><ul class="theme-list-inside"><li>Основна мета полягає у униканні зіткнень пташки з перешкодами - блоками, які знаходяться зверху та знизу.</li><li>Кожне зіткнення пташки з блоком призводить до завершення гри.</li><li>Завдання полягає в тому, щоб пролетіти між блоками, набираючи якнайбільшу кількість балів.</li></ul></li><li><p><strong>Блоки (Blocks) та Пари блоків (Block Pairs):</strong></p><ul class="theme-list-inside"><li>Блоки є перешкодами, через які потрібно пролетіти пташці.</li><li>Пари блоків складаються з блоків, один зверху, інший - знизу, утворюючи прохід для пташки.</li></ul></li><li><p><strong>Рахунок (Score):</strong></p><ul class="theme-list-inside"><li>Гравець отримує бали за кожне успішне пролітання між парою блоків без зіткнення.</li><li>Рахунок збільшується з кожним успішним проходженням через проміжок між блоками.</li></ul></li><li><p><strong>Завершення гри (Game Over):</strong></p><ul class="theme-list-inside"><li>Гра завершується, якщо пташка зіткнеться з будь-яким блоком.</li></ul></li></ol></div><p class='theme-text-container theme-text-container-code-comment'><a class='theme-a' href='https://drive.google.com/drive/folders/1GusgRVl78AUBMvIUFrewtxoHQiiqyUpI?usp=sharing'>Бінарії завершеної гри, приклад того що має вийти після її розробки.</a></p></div></div></div></div><div class='theme-main-container' align='center'><h1 class='theme-header'>Цілі підкурсу '<span class='attention-highlight'>Console Game Engine - Flappy Bird</span> - Класи та файли</h1><p class='theme-text-container theme-text-container-info'>Структура проєкту, його файли та класи.</p><div class='theme-additional-content-container-main'><button class='button-main theme-additional-content-expander'>Показати</button><div class='theme-additional-content-container collapsed'><div class='code-and-explanation-container'><p class='theme-text-container theme-text-container-code-comment'><a class='theme-a' href='https://drive.google.com/drive/folders/1GusgRVl78AUBMvIUFrewtxoHQiiqyUpI?usp=sharing'>Бінарії завершеної гри, приклад того що має вийти після її розробки.</a></p><p class='theme-text-container theme-text-container-code-comment'><strong>Опис та структура файлів проєкту гри:</strong></p><div class='code-pre-container'><pre><code class='language-plain'>.
├── Bird.cs
├── BlockPair.cs
├── FlappyBirdTest.csproj
├── GameBlock.cs
├── GamePlayer.cs
├── Program.cs
└── Public.cs</code></pre></div><p class='theme-text-container theme-text-container-code-comment'><strong>Класи проєкту гри:</strong></p><p class='theme-text-container theme-text-container-code-comment'><span class='attention-highlight'>GamePlayer.cs:</span></p><p class='theme-text-container theme-text-container-code-comment'><span class='spanh3'>Схема класу GamePlayer:</span></p><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Конструктори:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><span class='attention-code'>GamePlayer()</span>: Створює новий об'єкт гравця за замовчуванням.</li><li><span class='attention-code'>GamePlayer(int x, int y)</span>: Створює новий об'єкт гравця з заданими координатами x та y.</li></ul></div><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Методи:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><p><span class='attention-code'>Control(UserInputManager userInputManager, GameBoard gameBoard)</span>:</p><ul class="theme-list-inside"><li>Аргументи:<ul class="theme-list-inside"><li><em>userInputManager</em>: Об'єкт для керування вводом користувача.</li><li><em>gameBoard</em>: Ігрова дошка, на якій знаходиться гравець.</li></ul></li><li>Віртуальний метод, призначений для управління гравцем. Потребує перевизначення в підкласах.</li><li>Залишений порожнім для подальшого розширення у підкласах.</li></ul></li><li><p><span class='attention-code'>OneTick()</span>:</p><ul class="theme-list-inside"><li>Віртуальний метод.</li><li>Лічильник тиків збільшується на одиницю.</li><li>Перевіряється, чи лічильник досягнув максимального значення. Якщо так, лічильник обнуляється.</li></ul></li></ul></div><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Поля:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><span class='attention-code'>TickCounter</span>: Лічильник тиків для відстеження часу або подій у гравця.</li></ul></div><p class='theme-text-container theme-text-container-code-comment'>Цей клас встановлює загальний функціонал для гравців у грі. Метод Control залишений порожнім для можливості розширення та налаштування у підкласах, тоді як метод OneTick відслідковує часові події або дії, які повинні відбуватися певним чином для всіх гравців у грі.</p><div class='theme-additional-html-content-container'><hr class='theme-line'></div><p class='theme-text-container theme-text-container-code-comment'><span class='attention-highlight'>Bird.cs:</span></p><p class='theme-text-container theme-text-container-code-comment'>Клас Bird успадковує клас GamePlayer і представляє птаха в грі Flappy Bird на основі рушія Console Game Engine.</p><p class='theme-text-container theme-text-container-code-comment'><span class='spanh3'>Схема класу Bird:</span></p><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Конструктори:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><span class='attention-code'>Bird(int x, int y)</span>: Створює новий об'єкт птаха з заданими координатами x та y.</li><li><span class='attention-code'>Bird()</span>: Створює новий об'єкт птаха за замовчуванням.</li></ul></div><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Методи:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><p><span class='attention-code'>Control(UserInputManager userInputManager, GameBoard gameBoard)</span>:</p><ul class="theme-list-inside"><li>Аргументи:<ul class="theme-list-inside"><li><em>userInputManager</em>: Об'єкт для керування вводом користувача.</li><li><em>gameBoard</em>: Ігрова дошка, на якій знаходиться птах.</li></ul></li><li>Перевизначений метод для керування птахом.</li><li>Перевіряє, чи може птах здійснити стрибок вгору та чи натиснута клавіша "Spacebar".</li><li>Якщо умови виконуються, птах здійснює стрибок вгору.</li></ul></li><li><p><span class='attention-code'>OneTick(GameBoard gameBoard)</span>:</p><ul class="theme-list-inside"><li>Аргумент:<ul class="theme-list-inside"><li><em>gameBoard</em>: Ігрова дошка, на якій знаходиться птах.</li></ul></li><li>Виконує одну ітерацію руху птаха.</li><li>Підраховує та перевіряє лічильник тиків для руху птаха вниз.</li><li>Якщо пройшло достатньо часу для руху та птах не знаходиться за межами гральної дошки, птах рухається вниз на один крок.</li></ul></li></ul></div><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Поля:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><span class='attention-code'>TickCounter</span>: Лічильник тиків для відстеження часу між рухами птаха.</li></ul></div><p class='theme-text-container theme-text-container-code-comment'>Цей клас відповідає за управління птахом у грі Flappy Bird. Метод Control обробляє ввід користувача для стрибків вгору, а метод OneTick відповідає за рух птаха вниз з певною частотою та відслідковує, чи птах не виходить за межі ігрової дошки.</p><div class='theme-additional-html-content-container'><hr class='theme-line'></div><p class='theme-text-container theme-text-container-code-comment'><span class='attention-highlight'>GameBlock.cs:</span></p><p class='theme-text-container theme-text-container-code-comment'>Клас GameBlock успадковує клас GameObject і представляє блок у грі. Він має властивості для визначення висоти та ширини блоку, значення для відображення на ігровій дошці, а також методи для малювання блоку, переміщення його по координатах і перевірки на зіткнення з іншим об'єктом.</p><p class='theme-text-container theme-text-container-code-comment'><span class='spanh3'>Схема класу GameBlock:</span></p><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Властивості:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><span class='attention-code'>Height</span>: Висота блоку (з можливістю отримання та задання значення).</li><li><span class='attention-code'>Width</span>: Ширина блоку (з можливістю отримання та задання значення).</li><li><span class='attention-code'>DrawValue</span>: Значення для відображення блоку (з можливістю отримання та задання значення).</li></ul></div><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Методи:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><p><span class='attention-code'>DrawOnGameBoard(GameBoard gameBoard)</span>:</p><ul class="theme-list-inside"><li>Аргумент:<ul class="theme-list-inside"><li><em>gameBoard</em>: Ігрова дошка, на якій має бути намальований блок.</li></ul></li><li>Малює блок на ігровій дошці, використовуючи метод <code>SetReactangle</code> із заданими координатами, шириною, висотою та значенням відображення.</li></ul></li><li><p><span class='attention-code'>Move(int x, int y)</span>:</p><ul class="theme-list-inside"><li>Аргументи:<ul class="theme-list-inside"><li><em>x</em>: Кількість пікселів для переміщення по осі X.</li><li><em>y</em>: Кількість пікселів для переміщення по осі Y.</li></ul></li><li>Здійснює переміщення блоку на вказану кількість пікселів по осях X та Y.</li></ul></li><li><p><span class='attention-code'>IsCollidingWith(GameObject gameObject)</span>:</p><ul class="theme-list-inside"><li>Аргумент:<ul class="theme-list-inside"><li><em>gameObject</em>: Об'єкт, з яким перевіряється зіткнення.</li></ul></li><li>Перевіряє, чи відбувається зіткнення з іншим об'єктом на основі координат та розмірів об'єктів.</li></ul></li></ul></div><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Конструктори:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><p><span class='attention-code'>GameBlock() : base()</span>: Конструктор без параметрів, викликає конструктор базового класу GameObject.</p></li><li><p><span class='attention-code'>GameBlock(int x, int y, int width, int height, byte drawValue) : base(x, y)</span>:</p><ul class="theme-list-inside"><li>Аргументи:<ul class="theme-list-inside"><li><em>x</em>: Початкова координата по осі X.</li><li><em>y</em>: Початкова координата по осі Y.</li><li><em>width</em>: Ширина блоку.</li><li><em>height</em>: Висота блоку.</li><li><em>drawValue</em>: Значення для відображення блоку.</li></ul></li><li>Конструктор із заданими параметрами координат, ширини, висоти та значення для відображення блоку.</li></ul></li></ul></div><p class='theme-text-container theme-text-container-code-comment'>Цей клас представляє блок у грі, надаючи можливість малювання його на ігровій дошці, переміщення та перевірку на зіткнення з іншими об'єктами у грі.</p><div class='theme-additional-html-content-container'><hr class='theme-line'></div><p class='theme-text-container theme-text-container-code-comment'><span class='attention-highlight'>BlockPair.cs:</span></p><p class='theme-text-container theme-text-container-code-comment'>Клас BlockPair представляє пару блоків у грі Flappy Bird, де верхній та нижній блоки утворюють перешкоду, яку гравець повинен обійти. Клас має методи для переміщення блоків, малювання їх на ігровій дошці, перевірки на зіткнення з іншими об'єктами та два конструктори для створення пари блоків.</p><p class='theme-text-container theme-text-container-code-comment'><span class='spanh3'>Схема класу BlockPair:</span></p><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Властивості:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><span class='attention-code'>TopBlock</span>: Верхній блок пари (з можливістю отримання та задання значення).</li><li><span class='attention-code'>BottomBlock</span>: Нижній блок пари (з можливістю отримання та задання значення).</li></ul></div><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Методи:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><p><span class='attention-code'>MoveBlocks(int x)</span>:</p><ul class="theme-list-inside"><li>Аргумент:<ul class="theme-list-inside"><li><em>x</em>: Кількість пікселів для переміщення блоків по осі X.</li></ul></li><li>Переміщує верхній та нижній блоки на вказану кількість пікселів по осі X та повертає результат переміщення.</li><li>Перевіряє, чи верхній блок залишається видимим на екрані.</li></ul></li><li><p><span class='attention-code'>DrawBlocksOnGameBoard(GameBoard gameBoard)</span>:</p><ul class="theme-list-inside"><li>Аргумент:<ul class="theme-list-inside"><li><em>gameBoard</em>: Ігрова дошка, на якій мають бути намальовані блоки.</li></ul></li><li>Малює верхній та нижній блоки пари на ігровій дошці.</li></ul></li><li><p><span class='attention-code'>IsCollidingWith(GameObject gameObject)</span>:</p><ul class="theme-list-inside"><li>Аргумент:<ul class="theme-list-inside"><li><em>gameObject</em>: Об'єкт, з яким перевіряється зіткнення.</li></ul></li><li>Перевіряє, чи відбувається зіткнення пари блоків з іншим об'єктом на основі перевірки зіткнення верхнього та нижнього блоків.</li></ul></li></ul></div><p class='theme-text-container theme-text-container-code-comment'><span class='spanh4'>Конструктори:</span></p><div class='theme-additional-html-content-container'><ul class="theme-list"><li><p><span class='attention-code'>BlockPair(GameBlock topBlock, GameBlock bottomBlock)</span>:</p><ul class="theme-list-inside"><li>Аргументи:<ul class="theme-list-inside"><li><em>topBlock</em>: Верхній блок пари.</li><li><em>bottomBlock</em>: Нижній блок пари.</li></ul></li><li>Конструктор, що приймає два блоки як параметри і ініціалізує властивості TopBlock та BottomBlock.</li></ul></li><li><p><span class='attention-code'>BlockPair(GameBoard gameBoard)</span>:</p><ul class="theme-list-inside"><li>Аргумент:<ul class="theme-list-inside"><li><em>gameBoard</em>: Ігрова дошка, на основі розмірів якої буде створена пара блоків.</li></ul></li><li>Конструктор, що створює пару блоків на основі розмірів ігрової дошки та додатково виводить інформацію про висоту блоків і розмір ігрової дошки у текстовому форматі.</li></ul></li></ul></div><p class='theme-text-container theme-text-container-code-comment'>Цей клас представляє пару блоків, які утворюють перешкоду у грі, дозволяючи взаємодіяти з ними, малювати на ігровій дошці та перевіряти зіткнення з іншими об'єктами.</p></div></div></div></div><div class='theme-main-container' align='center'><h1 class='theme-header'>Цілі підкурсу '<span class='attention-highlight'>Console Game Engine - Flappy Bird</span> - Діаграми</h1><p class='theme-text-container theme-text-container-info'>Структура проєкту у вигляді діаграм.</p><div class='theme-additional-content-container-main'><button class='button-main theme-additional-content-expander'>Показати</button><div class='theme-additional-content-container collapsed'><div class='code-and-explanation-container'><p class='theme-text-container theme-text-container-code-comment'><a class='theme-a' href='https://drive.google.com/drive/folders/1GusgRVl78AUBMvIUFrewtxoHQiiqyUpI?usp=sharing'>Бінарії завершеної гри, приклад того що має вийти після її розробки.</a></p><p class='theme-text-container theme-text-container-code-comment'><span class='attention-highlight'>GamePlayer:</span></p><div class='theme-additional-html-content-container'><img src='images-theme/transparent_GamePlayer.png' class='theme-additional-img' alt=''></div><p class='theme-text-container theme-text-container-code-comment'><span class='attention-highlight'>Bird:</span></p><div class='theme-additional-html-content-container'><img src='images-theme/transparent_Bird.png' class='theme-additional-img' alt=''></div><p class='theme-text-container theme-text-container-code-comment'><span class='attention-highlight'>GameBlock:</span></p><div class='theme-additional-html-content-container'><img src='images-theme/transparent_GameBlock.png' class='theme-additional-img' alt=''></div><p class='theme-text-container theme-text-container-code-comment'><span class='attention-highlight'>BlockPair:</span></p><div class='theme-additional-html-content-container'><img src='images-theme/transparent_BlockPair.png' class='theme-additional-img' alt=''></div><p class='theme-text-container theme-text-container-code-comment'><span class='attention-highlight'>Public:</span></p><div class='theme-additional-html-content-container'><img src='images-theme/transparent_Public.png' class='theme-additional-img' alt=''></div><p class='theme-text-container theme-text-container-code-comment'><span class='attention-highlight'>Структура функцій Program:</span></p><div class='theme-additional-html-content-container'><img src='images-theme/transparent_Program.png' class='theme-additional-img' alt=''></div></div></div></div></div></div><div id='templatemo_footer_wrapper'>    <div id='templatemo_footer'>Copyright © 2022 WebSkill - Всі права захищено.</div></div></body></html>