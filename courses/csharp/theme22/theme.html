<html><head><title>Тема 22 Avalonia 2</title><meta charset="utf-8"><link rel="icon" href="../../../images/favicon.png" type="image/x-icon"><link rel='stylesheet' href='../../../styles/prism.css'><link rel='stylesheet' href='../../../styles/master.css'><link rel='stylesheet' href='styles/style.css'><script src='https://code.jquery.com/jquery-3.6.0.min.js' defer=""></script><script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js' defer=""></script><script src='../../../scripts/activate_highlight.js' defer=""></script><script src='../../../scripts/additional_content_button.js' defer=""></script></head><body><div id='templatemo_header_wrapper'>    <div id='templatemo_header'>        <div id='header'>            <br>            <h1 align='center'><a href='#' class='themeA'>Тема 22<br>Avalonia - UI 2</a></h1><br>        </div>    </div></div><div class='content'><div class='theme-main-container debug-compile-info-cont' align='center'><p class='theme-main-header debug-compile-info-header'>Complie info</p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>ExecutableCreationTime</span>:<br><span class='debug-compile-info-entry-value attention-code'>03/27/2024 02:09:19</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>ExecutableLastWriteTime</span>:<br><span class='debug-compile-info-entry-value attention-code'>03/27/2024 02:09:19</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>ExecutableHashSHA256</span>:<br><span class='debug-compile-info-entry-value attention-code'>EF45B86474B6E4747501AAB037C01F7D6B1FE6DC5824305E2659CDA47943263A</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>SettingsHashSHA256</span>:<br><span class='debug-compile-info-entry-value attention-code'>F6D9CFAB2E7B5CC5152D66D4C0D51EC04FCF0BB9BE5A805C42FBABC64EACC089</span></p><br><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>AppStartDate</span>:<br><span class='debug-compile-info-entry-value attention-code'>2024-03-27 00:09:25.084</span></p><br><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>StylesHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>D874A857C9AE35986454587CF15ED802E0DA670AA6BCBF2B7311FA7D0367145E</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>ScriptsHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>B2860447F9AF448ED6C9353FCAD64AB324ABFB5D42697A9CA3F1A2C9535129E8</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>AdditionalHeadContentHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>CDB97F7F404FBF14B9786071235C8E643776E7B3C78B6A356497F4AFAF322B64</span></p><br><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>InfoMaterialThemeConfigStringHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>CD37168A994363DB1AA24700919519A49D207C8D5E406E0A4158073223A465D2</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>HtmlTextFormaterStringHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>7A0E612F8CD38F4BA68720E4DEDD2FCC8D91D2DDDB7C8B37A403EC3E0BFF93E4</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>GlobalHtmlTextFormaterStringHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>0BD3178F0EB6CF62ED1234C263E422988E2A6CAE5285B6BB27A1CA5F526093C7</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>HeaderHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>9E4B3F1397C37693AF319C23C8F060DE91A17F60A58AFE3CAF18B2FF6C4ADD63</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>FooterHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>B8EA0644585A6D27C6B10FD167809CF1F1884EDC0374A494362B16876CE98B96</span></p><p class='theme-main-header debug-compile-info-entry'><span class='debug-compile-info-entry-name'>AdditionalMainDivContentHash</span>:<br><span class='debug-compile-info-entry-value attention-code'>D05224365F5F8632B8AC84C4032E59B7F61910A18D95DEB5F1C54140777D314C</span></p></div><div class="workaround-div-for-compile-only">    <div class="theme-main-container chapter-selector-container">        <a class="button-main chapter-selector-link" href="theme.html">            <p class="chapter-selector-text">Теорія</p>        </a>        <a class="button-main chapter-selector-link" href="tasks.html">            <p class="chapter-selector-text">Завдання</p>        </a>    </div></div><div class='theme-main-container' align='center'><p class='theme-main-header'>Взаємодія з контролами в Avalonia</p></div><div class='theme-main-container' align='center'><h1 class='theme-header'><span class='attention-highlight'>Avalonia</span> та кнопки</h1><p class='theme-text-container theme-text-container-info'>Як прив'язати функцію до кнопки в <span class='attention-highlight'>Avalonia</span>?</p><div class='theme-additional-content-container-main'><button class='button-main theme-additional-content-expander'>Показати</button><div class='theme-additional-content-container collapsed'><div class='code-and-explanation-container'><p class='theme-text-container theme-text-container-code-comment'>На цьому уроці ми поговоримо про те, як зв'язати елементи інтерфейсу користувача (UI) з кодом, зокрема про роботу з кнопками. Ми розглянемо приклад простого зв'язування функції з кнопкою.</p><div class='theme-additional-html-content-container'><ol class="theme-list"><li><p><strong>Створення простого додатку з однією кнопкою: </strong></p><p>Перш за все, створимо простий додаток з однією кнопкою. Додаток буде мати вікно (Window) з однією кнопкою (Button) і текстовим полем (TextBlock).</p><p>MainWindow.axaml:</p><div class='code-pre-container'><pre><code class='language-xml'>&lt;Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:avaltest1.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        d:DesignWidth="800"
        d:DesignHeight="450"
        x:Class="avaltest1.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="avaltest1"&gt;
    &lt;StackPanel&gt;
        &lt;TextBlock Text="TestText" /&gt;
        &lt;Button Click="Button1Click"&gt;TEST_BTN&lt;/Button&gt;
    &lt;/StackPanel&gt;
&lt;/Window&gt;
</code></pre></div><p>MainWindow.axaml.cs:</p><div class='code-pre-container'><pre><code class='language-cs'>using System;
using Avalonia.Controls;
using Avalonia.Interactivity;

namespace avaltest1.Views
{
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
        }

        public void Button1Click(object source, RoutedEventArgs args)
        {
            Console.WriteLine("Button clicked");
        }
    }
}
</code></pre></div><p>У цьому прикладі ми створили кнопку з назвою "TEST_BTN" і зв'язали її з методом Button1Click в коді. Коли користувач натискає на кнопку, в консоль виводиться повідомлення "Button clicked".</p></li></ol></div><p class='theme-text-container theme-text-container-code-comment'>Це простий приклад того, як можна прив'язати кнопку та функцію у додатку <span class='attention-highlight'>Avalonia</span>.</p><p class='theme-text-container theme-text-container-code-comment'>Коли ви вказуєте <code>Click="Button1Click"</code> в елементі <code>&lt;Button&gt;</code> у XAML-файлі, ви зв'язуєте подію натискання кнопки (Click) з певною функцією в коді. У цьому випадку, <code>Button1Click</code> - це ім'я методу в коді, який буде викликаний при натисканні кнопки.</p><p class='theme-text-container theme-text-container-code-comment'>Коли ви запускаєте додаток і натискаєте на кнопку, Avalonia автоматично викликає метод <code>Button1Click</code> у вашому коді. Це робить можливим виконання певних дій або обробку події натискання кнопки в вашому додатку.</p><p class='theme-text-container theme-text-container-code-comment'>Отже, через це зв'язування між UI та кодом, ви можете реагувати на події від користувача (наприклад, натискання кнопки) та виконувати відповідні дії в вашому додатку.</p><p class='theme-text-container theme-text-container-code-comment'>Функція <code>Button1Click</code> у прикладі є публічним методом без повернення (void), що означає, що вона не повертає жодного значення після виконання. Цей метод має два параметри: <code>object source</code> і <code>RoutedEventArgs args</code>.</p><div class='theme-additional-html-content-container'><ol class="theme-list"><li><p>Параметр <code>object source</code> вказує на об'єкт, який викликав подію (у цьому випадку - кнопка). Цей параметр може бути використаний, наприклад, для визначення, який саме елемент викликав подію.</p></li><li><p>Параметр <code>RoutedEventArgs args</code> містить додаткову інформацію про подію, таку як деталі відправника події та іншу інформацію, яка може бути корисною для обробки події.</p></li></ol></div><p class='theme-text-container theme-text-container-code-comment'>У цій конкретній функції <code>Button1Click</code>, ми виводимо просте повідомлення у консоль ("Button clicked"), щоб показати, що функція була викликана успішно при натисканні кнопки. Ви можете використовувати цю функцію для виконання будь-яких інших дій, які вам потрібно відобразити при натисканні кнопки у вашому додатку.</p></div></div></div></div><div class='theme-main-container' align='center'><h1 class='theme-header'>Кнопки та змінна тексту контролів</h1><p class='theme-text-container theme-text-container-info'>Як змінювати текст елементів при натисканні кнопки?</p><div class='theme-additional-content-container-main'><button class='button-main theme-additional-content-expander'>Показати</button><div class='theme-additional-content-container collapsed'><div class='code-and-explanation-container'><div class='theme-additional-html-content-container'><ol class="theme-list"><li><p><strong>Створення простого додатку з кнопкою та текстовим блоком: </strong></p><p>Вам потрібно створити розмітку у XAML файлі (<code>MainWindow.axaml</code>):</p><div class='code-pre-container'><pre><code class='language-xml'>&lt;Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:avaltest1.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        d:DesignWidth="800"
        d:DesignHeight="450"
        x:Class="avaltest1.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="avaltest1"&gt;
    &lt;StackPanel&gt;
        &lt;TextBlock Text="TestText" Name="TextBoxWithName" /&gt;
        &lt;Button Click="Button1Click"&gt;TEST_BTN&lt;/Button&gt;
    &lt;/StackPanel&gt;
&lt;/Window&gt;
</code></pre></div><p>В даному коді ми маємо <code>&lt;TextBlock&gt;</code> з іменем <code>TextBoxWithName</code> та кнопку <code>&lt;Button&gt;</code>, яка має обробник подій <code>Button1Click</code>.</p></li><li><p><strong>Код C# для зміни тексту після натискання кнопки: </strong></p><p>У коді C# (<code>MainWindow.axaml.cs</code>), ми реалізуємо метод <code>Button1Click</code>, який буде викликатися при натисканні кнопки:</p><div class='code-pre-container'><pre><code class='language-cs'>using System;
using Avalonia.Controls;
using Avalonia.Interactivity;

namespace avaltest1.Views
{
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
        }

        public void Button1Click(object source, RoutedEventArgs args)
        {
            TextBoxWithName.Text = "Button clicked";
            Console.WriteLine("Button clicked");
        }
    }
}
</code></pre></div><p>У методі <code>Button1Click</code> ми змінюємо текст елементу <code>&lt;TextBlock&gt;</code> з іменем <code>TextBoxWithName</code> на "Button clicked" при натисканні кнопки. Також виводимо повідомлення у консоль.</p></li></ol></div></div></div></div></div><div class='theme-main-container' align='center'><h1 class='theme-header'>Кнопки та отримання тексту з поля для вводу (TextBox)</h1><p class='theme-text-container theme-text-container-info'>Як отримати ввід від користувача?</p><div class='theme-additional-content-container-main'><button class='button-main theme-additional-content-expander'>Показати</button><div class='theme-additional-content-container collapsed'><div class='code-and-explanation-container'><p class='theme-text-container theme-text-container-code-comment'>У цьому прикладі ми створюємо додаток який містить кнопку, текстове поле та текстовий блок. Користувач може вводити текст у текстове поле, після чого натискає на кнопку. Після натискання кнопки вміст текстового поля додається до вмісту текстового блоку, а текстове поле очищається для введення нового тексту.</p><div class='theme-additional-html-content-container'><ol class="theme-list"><li><p><strong>Створення розмітки у XAML файлі: </strong></p><p>В XAML файлі (<code>MainWindow.axaml</code>) ми маємо таку розмітку:</p><div class='code-pre-container'><pre><code class='language-cs'>&lt;Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:avaltest1.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        d:DesignWidth="800"
        d:DesignHeight="450"
        x:Class="avaltest1.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="avaltest1"&gt;
    &lt;StackPanel&gt;
        &lt;Button Click="Button1Click"&gt;TEST_BTN&lt;/Button&gt;
        &lt;TextBlock Text="TestText" Name="TextBoxWithName" /&gt;
        &lt;TextBox Name="TextInput" /&gt;
    &lt;/StackPanel&gt;
&lt;/Window&gt;
</code></pre></div><p>У даній розмітці ми маємо кнопку <code>&lt;Button&gt;</code>, текстовий блок <code>&lt;TextBlock&gt;</code> з іменем <code>TextBoxWithName</code> та текстове поле <code>&lt;TextBox&gt;</code> з іменем <code>TextInput</code>.</p></li><li><p><strong>Про <code>TextBox</code>: </strong></p><p>Елемент <code>&lt;TextBox&gt;</code> використовується для введення тексту користувачем у додатку. В цьому випадку, <code>TextInput</code> є екземпляром класу <code>TextBox</code>, до якого ми можемо звертатися з коду, щоб отримати введений користувачем текст.</p></li><li><p><strong>Код для обробки події натискання кнопки: </strong></p><p>У коді C# (<code>MainWindow.axaml.cs</code>), ми маємо метод <code>Button1Click</code>, який буде викликатися при натисканні кнопки:</p><div class='code-pre-container'><pre><code class='language-cs'>using System;
using Avalonia.Controls;
using Avalonia.Interactivity;

namespace avaltest1.Views
{
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
        }

        public void Button1Click(object source, RoutedEventArgs args)
        {
            TextBoxWithName.Text = TextBoxWithName.Text + " " + TextInput.Text;
            TextInput.Text = "";
            Console.WriteLine("Button clicked");
        }
    }
}
</code></pre></div><p>У методі <code>Button1Click</code> ми змінюємо текст елементу <code>&lt;TextBlock&gt;</code> з іменем <code>TextBoxWithName</code>, додаючи до нього текст, який введений у текстове поле <code>TextInput</code>. Після цього очищаємо вміст текстового поля <code>TextInput</code>, щоб користувач міг ввести новий текст. Також виводимо повідомлення у консоль.</p></li></ol></div></div></div></div></div></div><div id='templatemo_footer_wrapper'>    <div id='templatemo_footer'>Copyright © 2022 WebSkill - Всі права захищено.</div></div></body></html>